âœ… ğŸŒ¾ KRISHI SETU â€” Final Database Schema (ER Model Draft)
1ï¸âƒ£ User (Central Authentication Table)
Field	Type	Description
user_id (PK)	INT	Unique user ID
email	VARCHAR	User login email
password_hash	VARCHAR	Hashed password
role	ENUM('Farmer', 'Buyer', 'Agent', 'Admin', 'SuperAdmin')	Defines user type
status	ENUM('Active', 'Inactive', 'Suspended')	Account state
created_at	DATETIME	When user registered
last_login	DATETIME	Last login time

Relations:

1â€“1 â†’ Farmer, Buyer, Agent, Admin, SuperAdmin

2ï¸âƒ£ Region
Field	Type	Description
region_id (PK)	INT	Unique region
name	VARCHAR	Region name
state	VARCHAR	State
district	VARCHAR	District
pincode	VARCHAR	Pincode

Relations:

1â€“M â†’ Farmer, Agent, DeliveryAgent

3ï¸âƒ£ Farmer
Field	Type	Description
farmer_id (PK)	INT	Farmer unique ID
user_id (FK â†’ User)	INT	Link to login
region_id (FK â†’ Region)	INT	Assigned region
name	VARCHAR	Farmer name
contact_number	VARCHAR	Mobile
address	TEXT	Address
verified_status	ENUM('Pending','Verified','Rejected')	Verification state
assurance_tag	BOOLEAN	Premium assurance flag
subscription_id (FK â†’ Subscription)	INT	Active subscription
lab_report_id (FK â†’ LabTestReport)	INT	Optional lab test

Relations:

1â€“M â†’ Product

1â€“M â†’ OrderItem (via product)

4ï¸âƒ£ Buyer
Field	Type	Description
buyer_id (PK)	INT	Unique buyer ID
user_id (FK â†’ User)	INT	Link to login
name	VARCHAR	Buyer name
phone_number	VARCHAR	Contact
address	TEXT	Default address
region_id (FK â†’ Region)	INT	For regional filtering
wishlist_id	INT	Optional reference

Relations:

1â€“M â†’ Order, Review

Mâ€“M â†’ Product (via Wishlist / Cart)

5ï¸âƒ£ Agent (Regional Verifier)
Field	Type	Description
agent_id (PK)	INT	Unique ID
user_id (FK â†’ User)	INT	Login link
region_id (FK â†’ Region)	INT	Assigned region
name	VARCHAR	Agent name
phone_number	VARCHAR	Contact
assigned_farmers	TEXT	List / mapping
status	ENUM('Active','Inactive')	Work status

Relations:

1â€“M â†’ Verification

1â€“M â†’ ConflictTicket (first-level resolution)

6ï¸âƒ£ Admin
Field	Type	Description
admin_id (PK)	INT	Unique ID
user_id (FK â†’ User)	INT	Login link
name	VARCHAR	Name
phone_number	VARCHAR	Contact
region_id (FK â†’ Region)	INT	Regional control

Relations:

1â€“M â†’ Agent, ConflictTicket, Report

7ï¸âƒ£ SuperAdmin
Field	Type	Description
superadmin_id (PK)	INT	Unique ID
user_id (FK â†’ User)	INT	Login link
name	VARCHAR	Super admin name

Relations:

Full access to all entities (logical, not relational FK)

8ï¸âƒ£ Product
Field	Type	Description
product_id (PK)	INT	Unique product
farmer_id (FK â†’ Farmer)	INT	Seller
category	VARCHAR	Crop type
name	VARCHAR	Product name
description	TEXT	Description
price	DECIMAL	Price per unit
stock_quantity	INT	Available quantity
assured	BOOLEAN	If verified
lab_test_report_id (FK â†’ LabTestReport)	INT	Optional
image_url	VARCHAR	Product image

Relations:

1â€“M â†’ OrderItem, Review

Mâ€“M â†’ Buyer (via Wishlist, Cart)

9ï¸âƒ£ SubscriptionPlan
Field	Type	Description
subscription_id (PK)	INT	Plan ID
plan_name	VARCHAR	Basic / Assured / Premium
price	DECIMAL	Plan cost
duration_days	INT	Validity period
features	TEXT	Description
ğŸ”Ÿ LabTestReport
Field	Type	Description
report_id (PK)	INT	Unique ID
farmer_id (FK â†’ Farmer)	INT	Linked farmer
product_id (FK â†’ Product)	INT	Tested product
test_date	DATETIME	Date tested
results	TEXT	Lab results summary
report_url	VARCHAR	Link to report PDF
1ï¸âƒ£1ï¸âƒ£ Order
Field	Type	Description
order_id (PK)	INT	Order unique ID
buyer_id (FK â†’ Buyer)	INT	Buyer
order_date	DATETIME	When placed
total_amount	DECIMAL	Total
payment_id (FK â†’ Payment)	INT	Payment ref
delivery_id (FK â†’ Delivery)	INT	Delivery ref
status	ENUM('Pending','Processing','Delivered','Cancelled')	Status

Relations:

1â€“M â†’ OrderItem

1â€“1 â†’ Payment, Delivery

1ï¸âƒ£2ï¸âƒ£ OrderItem
Field	Type	Description
order_item_id (PK)	INT	Unique
order_id (FK â†’ Order)	INT	Linked order
product_id (FK â†’ Product)	INT	Purchased product
farmer_id (FK â†’ Farmer)	INT	Productâ€™s farmer
quantity	INT	Qty
price	DECIMAL	Price at purchase
1ï¸âƒ£3ï¸âƒ£ Payment
Field	Type	Description
payment_id (PK)	INT	Payment unique
order_id (FK â†’ Order)	INT	Order ref
buyer_id (FK â†’ Buyer)	INT	Buyer
amount	DECIMAL	Amount paid
payment_method	ENUM('UPI','Card','NetBanking','Wallet')	Mode
transaction_id	VARCHAR	Gateway ref
payment_status	ENUM('Pending','Completed','Failed','Refunded')	Status
payment_date	DATETIME	Date/time
1ï¸âƒ£4ï¸âƒ£ DeliveryAgent
Field	Type	Description
delivery_agent_id (PK)	INT	Unique ID
region_id (FK â†’ Region)	INT	Work region
name	VARCHAR	Name
phone_number	VARCHAR	Contact
status	ENUM('Available','Busy','Inactive')	Status
1ï¸âƒ£5ï¸âƒ£ Delivery
Field	Type	Description
delivery_id (PK)	INT	Delivery unique
order_id (FK â†’ Order)	INT	Related order
delivery_agent_id (FK â†’ DeliveryAgent)	INT	Assigned agent
delivery_status	ENUM('Pending','Dispatched','Delivered','Failed')	Status
estimated_date	DATE	ETA
actual_date	DATE	Delivered on
tracking_number	VARCHAR	Tracking ref
1ï¸âƒ£6ï¸âƒ£ Review
Field	Type	Description
review_id (PK)	INT	Review unique
buyer_id (FK â†’ Buyer)	INT	Reviewer
product_id (FK â†’ Product)	INT	Product reviewed
farmer_id (FK â†’ Farmer)	INT	Seller
rating	INT	(1â€“5)
comment	TEXT	Review text
created_at	DATETIME	Date/time
1ï¸âƒ£7ï¸âƒ£ ConflictTicket
Field	Type	Description
ticket_id (PK)	INT	Unique ID
order_id (FK â†’ Order)	INT	Related order
buyer_id (FK â†’ Buyer)	INT	Who raised
farmer_id (FK â†’ Farmer)	INT	Opposite party
agent_id (FK â†’ Agent)	INT	First-level
admin_id (FK â†’ Admin)	INT	Second-level
superadmin_id (FK â†’ SuperAdmin)	INT	Final-level
status	ENUM('Open','InProgress','Resolved','Escalated')	State
description	TEXT	Complaint
resolution_note	TEXT	Admin/agent notes
1ï¸âƒ£8ï¸âƒ£ Notification
Field	Type	Description
notification_id (PK)	INT	Unique
user_id (FK â†’ User)	INT	Receiver
type	ENUM('OrderUpdate','Payment','Subscription','Conflict','General')	Type
message	TEXT	Content
read_status	BOOLEAN	True/False
created_at	DATETIME	Time sent
âš™ï¸ Relationship Highlights

User â†’ (Farmer / Buyer / Agent / Admin / SuperAdmin) = 1â€“1

Region â†’ (Farmer / Agent / DeliveryAgent) = 1â€“M

Farmer â†’ Product = 1â€“M

Buyer â†’ Order = 1â€“M

Order â†’ OrderItem = 1â€“M

Order â†’ Payment / Delivery = 1â€“1

Farmer â†” Buyer = Mâ€“M (via OrderItem / Review)

ConflictTicket connects Buyer, Farmer, Agent, Admin, SuperAdmin

SubscriptionPlan â†’ Farmer = 1â€“M

Notification â†’ User = 1â€“M

Would you like me to generate the ER diagram image for this final refined structure (with all relations, PK/FK clearly drawn)?
Itâ€™ll be perfect to attach in your report or project documentation